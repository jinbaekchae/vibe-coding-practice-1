# 새 구독 서비스 자동화 추가

새로운 구독 서비스의 영수증 자동 제출 루틴을 추가합니다.

## 정보 수집

사용자에게 아래 정보를 **하나씩 질문**하여 수집하세요. AskUserQuestion 도구를 사용하세요.

1. **구독 서비스 이름** (예: Figma, Notion, GitHub Copilot)
2. **메일 발신자 주소** (예: billing@figma.com)
3. **메일 제목 패턴** — 검색에 사용할 키워드 (예: "Your Figma invoice")
4. **매월 예상 결제일** (예: 15일) — 정확한 날짜가 매달 조금씩 달라도 괜찮습니다
5. **탐색 범위(±일수)** — 결제일 기준 앞뒤로 며칠까지 메일을 볼지 (기본값: 5일)
6. **지출 항목** — 구글폼 드롭다운 값 (예: 소프트웨어 구독료, 교통비 등)
7. **결제 금액** — 매월 고정이면 금액 입력, 변동이면 `-`
8. **기타 특이사항** — 메일 형식, 첨부파일 유무, 파싱 시 주의점 등 (없으면 생략 가능)

## 구현 작업

수집한 정보를 바탕으로 `config.py`의 `SUBSCRIPTIONS` 리스트에 항목을 추가합니다.

### config.py 수정

`SUBSCRIPTIONS` 리스트에 아래 형식으로 새 항목을 추가합니다.
`key`는 영문 소문자+언더스코어로 구성된 고유 식별자입니다.

```python
SUBSCRIPTIONS = [
    # 기존 항목들 유지
    {
        "key": "서비스키",           # 고유 식별자 (예: "figma", "notion")
        "name": "서비스 이름",        # 표시용 이름
        "sender": "수집한 발신자",    # 메일 발신자 주소
        "subject_keyword": "수집한 제목 키워드",
        "expected_day": 수집한 결제일,  # 매달 예상 결제일 (int)
        "window_days": 수집한 탐색범위, # ±N일 (int, 기본 5)
        "expense_category": "수집한 지출 항목",
        "payment_amount": "수집한 금액 또는 -",
    },
]
```

### 동작 방식 안내

추가 후 시스템 동작 방식을 사용자에게 설명합니다:

- 매일 오전 10:00 자동 실행
- 오늘이 `예상 결제일 ±window_days` 범위 내일 때만 메일 탐색
- 메일 발견 시 구글폼 자동 제출 후 `processed_emails.json`에 이번 달 처리 완료 기록
- 이미 처리된 달은 기간 내에도 다시 실행하지 않음
- 결제일이 달라도 탐색 범위 내에 있으면 자동으로 감지

### 스케줄링 확인

plist는 이미 **매일 10:00 실행**으로 설정되어 있습니다.
새 구독의 결제일이 달라도 별도 plist 생성이 필요 없습니다.

기존 plist가 올바르게 등록되어 있는지 확인만 안내하면 됩니다:
```
launchctl list | grep anthropic-invoice
```

## 완료 후

1. 변경된 파일(`config.py`)과 추가된 항목 요약을 보여줍니다
2. `python main.py` 로 테스트 실행을 안내합니다
   - 현재 오늘이 탐색 범위 내가 아니라면 "탐색 기간 밖, 스킵" 로그가 정상 출력됩니다
3. `processed_emails.json`에 처리 이력이 기록된다는 점도 안내합니다
